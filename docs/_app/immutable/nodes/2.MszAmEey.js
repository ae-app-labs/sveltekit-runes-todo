import{q as le,r as T,u as te,v as se,w as re,S as V,x as oe,y as Y,z as ie,A as ce,B as O,C as ue,D as de,p as B,t as j,a as _e,e as fe,E as ve,F as G,G as C,H as pe,I as K,d as X,o as he,s as A,h as L,g as P,l as F}from"../chunks/disclose-version.r-UC7adR.js";import{j as q,r as S,k as ge,E as ne,l as me,m as b,n as xe,o as Q,q as J,v as W,w as ye,x as ae,y as Ee,z as ke,s as z,u as R,c as we,g as h,p as Ae,A as w,B as Ie,e as Z}from"../chunks/runtime.CNmsRcM-.js";function Te(){}function Se(e,o,l,n,s,_,f){const k=(l&b)!==0,r=se(l,e);let v=null;le(e,k);let p,m=null,g=null;r.r=i=>{const t=v,a=t.s;a.add(i),i.f(()=>{a.delete(i),a.size===0&&t.e!==null&&(t.d!==null&&(T(t.d),t.d=null),q(t.e),t.e=null)})};const c=()=>{const i={d:null,e:null,s:new Set,p:v},t=S(()=>{const a=r.d;a!==null&&(T(a),r.d=null);let u=r.a;(r.f&b)!==0&&(u=re(),r.a.appendChild(u)),_(u),i.d=r.d,r.d=null},r,!0);i.e=t,v=i},x=i=>{const t=i.f,a=(t&b)!==0,u=i.a;f(p,i,u,a,s,t,!0,m)},d=S(()=>{const i=o();p=ge(i)?i:i==null?[]:Array.from(i),n!==null?m=p.map(n):l&ne||p.map(Te);const t=p.length;if(_!==null){if(t===0){if(r.v.length!==0||g===null){x(r),c();return}}else if(r.v.length===0&&v!==null){const a=v,u=a.s;u.size===0?a.d!==null&&(T(a.d),a.d=null):te(u,"out")}}g!==null&&xe(g)},r,!1);g=S(x,r,!0),me(d,()=>{const i=r.f,t=r.a,a=(i&b)!==0;let u=v;for(;u!==null;){const y=u.d;y!==null&&T(y);const E=u.e;E!==null&&q(E),u=u.p}f([],r,t,a,s,i,!1,m),q(g)}),r.e=d}function $(e,o,l,n,s){Se(e,o,l,null,n,s,Ce)}function Ce(e,o,l,n,s,_,f){var k=V in e&&e[V].i,r=o.v,v=o.s;k&&(_&=~J);var p=r.length,m=e.length,g=Math.max(p,m),c=0,x,d;if(v.length!==0&&qe(v),m===0)for(x=[],n&&p!==0&&oe(l);c<g;)d=r[c++],U(d,v,f,n);else{var i;if(x=Array(m),Y!==null)for(var t=Y[0];c<g;c++){i=k?Q(e,c):e[c];var a=ie(t);ce(a),t=a.at(-1).nextSibling.nextSibling,d=ee(i,null,c,s,_),x[c]=d}else for(;c<g;c++)c>=p?(i=k?Q(e,c):e[c],d=ee(i,null,c,s,_),x[c]=d,be(d,l,n,null)):c>=m?(d=r[c],U(d,v,f)):(i=e[c],d=r[c],x[c]=d,ze(d,i,c,_))}o.v=x}function be(e,o,l,n){var s=e.d;return n===null?l?O(s,o,null):O(s,o.parentNode,o):O(s,null,n)}function qe(e){var o=e.length;if(o>0){for(var l=0,n,s;l<o;l++)n=e[l],s=n.r,s!==null&&(n.r=null,U(n,null,!1));e.length=0}}function ze(e,o,l,n){n&J?W(e.v,o):ye(e.v)&&(e.v.o[e.v.p]=o);const s=e.s,_=(n&ae)!==0,f=e.a;s!==null&&n&ne&&f!==null&&f(e,s,l,_),_?W(e.i,l):e.i=l}function U(e,o,l,n=!1){const s=e.s;if(l&&s!==null){for(let f of s)f.r==="key"&&s.delete(f);if(s.size===0)e.s=null;else{te(s,"out"),o!==null&&o.push(e);return}}const _=e.d;!n&&_!==null&&T(_),q(e.e)}function ee(e,o,l,n,s){const f=(s&J)===0?e:s&Ee?z(e):ke(e),k=s&ae?z(l):l,r=ue(f,k,o),v=S(p=>{n(null,p.v,p.i)},r,!0);return r.e=v,r}const He=(e,o)=>{if(e.key!="Enter")return;const l=e.target,n=crypto.randomUUID();h(o).push({text:l.value,done:!1,itemId:n}),l.value=""};var De=F('<div class="todo svelte-1wxqk0m"><input type="text" class="svelte-1wxqk0m"> <input type="checkbox" class="svelte-1wxqk0m"></div>'),Me=(e,o,l)=>o(w(l)),Ne=F("<button> </button>"),Oe=F('<input type="text" placeholder="Add todo" class="svelte-1wxqk0m"> <div class="todos svelte-1wxqk0m"></div> <div class="filters svelte-1wxqk0m"></div> <p> </p>',!0);function Re(e,o){Ae(o,!0);let l=z("all"),n=z(B([])),s=Ie(_);R(()=>{}),R(()=>{const t=localStorage.getItem("todos");t&&Z(n,B(JSON.parse(t)))}),R(()=>{localStorage.setItem("todos",JSON.stringify(h(n)))});function _(){switch(console.log(h(l),h(n)),h(l)){case"all":return h(n);case"active":return h(n).filter(a=>!a.done);case"completed":const t=h(n).filter(a=>a.done);return console.log(t),t}}const f=t=>{const a=t.target,u=a.dataset.index;h(n)[u].text=a.value},k=t=>{const u=t.target.dataset.index;h(n)[u].done=!h(n)[u].done},r=t=>{Z(l,B(t))},v=()=>h(n).filter(t=>!t.done).length;var p=he(e,!0,Oe),m=fe(p),g=A(A(m)),c=A(A(g));const x=()=>["all","active","completed"];var d=A(A(c)),i=L(d);j(i,()=>`${ve(v())} remaining`),m.__keydown=[He,n],$(g,()=>h(s),73,(t,a,u)=>{var y=P(t,!0,De),E=L(y);G(E),C(E,"data-index",w(u));var I=A(A(E));G(I),C(I,"data-index",w(u));var H,D,M,N;S(()=>{pe(y,"completed",w(a).done),H!==(H=w(a).text)&&(E.value=H),D!==(D=w(a).itemId)&&C(E,"data-itemid",D),M!==(M=w(a).done)&&(I.checked=M),N!==(N=w(a).itemId)&&C(I,"data-itemid",N)}),K("input",E,f,!1),K("change",I,k,!1),X(t,y)},null),$(c,x,73,(t,a,u)=>{var y=P(t,!0,Ne),E=L(y);j(E,()=>w(a)),y.__click=[Me,r,a],X(t,y)},null),_e(e,p),we()}de(["keydown","click"]);export{Re as component};
